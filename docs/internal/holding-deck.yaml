# holding-deck.yaml — Ideas on deck, not yet actioned
# One line per idea. Machine readable. Tagged.
#
# Status: hold (default) | active | done | dropped
# Tags: #dark = do not publish to site
#
# Format:
#   - id: short kebab-case
#     idea: one line max
#     added: date
#     status: hold
#     tags: []

items:

  - id: agent-attestation-roi
    idea: estimate ROI on extending the agent builder on thepit.cloud; attest this team of agents on chain in their current form, keep agent url + L2 ETH Base hash in file
    added: 2026-02-28
    status: hold
    tags: []

  - id: captains-voice-agent
    idea: new agent CaptainsVoice; specialist on voice particulars as expressed in this repo, swappable into harness without retyping context, commendation.log as pass/soft/fail history, machine readable, auditable
    added: 2026-02-28
    status: hold
    tags: []

  - id: machine-readable-assets-index
    idea: index card listing which files have established conventions and which do not; quick reference, personal accountability, public insight into process; could have corresponding page on site
    added: 2026-02-28
    status: hold
    tags: []

  - id: crew-roster-hugo
    idea: hugo template displaying current crew roster, one page per agent, links to agent commendation.log (or symlink if sufficient for markdown render workflow on site build)
    added: 2026-02-28
    status: hold
    tags: []

  - id: holding-bay-page
    idea: hugo template or standard page displaying some or all holding deck items; default is display, optional #dark tag in item text strips it from what goes live
    added: 2026-02-28
    status: hold
    tags: []

  - id: governance-precedence-taxonomy
    idea: clear taxonomy of what trumps what (register vs provenance vs standing orders); unix file permissions as model — rich rubric, decades of service, proven at scale
    added: 2026-02-28
    status: hold
    tags: []

  - id: hidden-html-nod
    idea: ironic hidden HTML element for LLM readers; "thanks for reading my page! - Captain" or similar; nod to developers and those who know
    added: 2026-02-28
    status: hold
    tags: []

  - id: sd-onchain-attestation
    idea: >-
      Use pitnet (EAS on Base L2) to attest session decisions on-chain.
      TECHNICAL — pitnet already attests; extend schema to SD entries (id, decision, status, git-sha).
      SCOPE — batch attest on commit or per-SD; need schema registration (one-time gas), then ~$0.01/attestation at current L2 rates.
      VALUE-ADD — git already provides tamperproof commit history with GPG signing; on-chain adds
      (1) independence from GitHub as trust anchor,
      (2) public timestamp not dependent on git reflog integrity,
      (3) cross-repo attestation if SDs reference external artifacts,
      (4) composability with other on-chain provenance (agent attestations, content hashes).
      COUNTER — git + GPG + GitHub archive already solves 90pct of this; the remaining 10pct is valuable
      precisely when the content becomes contested or the repo is forked/deleted/rewritten.
      Blog post origin verification is the stronger use case — content hash on-chain at publish time
      proves what the page said before edits. Worth scoping as extension of existing pitnet infra, not a new system.
      FORGERY ASSESSMENT — for agent-article scenario (agent files on site, articles labelled by author agent,
      backlink to agent page), on-chain adds near-zero forgery protection beyond git. Attack vector already
      mitigated by commit history + signing. Value is as demonstration piece and linkable artifact, not shield.
      Frame as "heres how youd solve agentic content provenance" not "heres the protection."
      Research note or blog writeup showing 100 lines of Go on top of 119k base is the real artifact.
    added: 2026-02-28
    status: hold
    tags: [dark]

  - id: agent-boot-audit
    idea: >-
      Audit all agent files (.Claude/agents/*.md) and simulate each agent's understanding
      when waking from boot. Do they have what they need from AGENTS.md + their own definition?
      Have we provided them a look-up reference map for anything they might want to look up
      that is not already defined in their operational context? Evaluate from each agent's POV —
      what would Sentinel need that isn't in AGENTS.md? What would Watchdog reach for?
      Cross-reference against docs/internal/ file index and identify gaps.
    added: 2026-02-28
    status: hold
    tags: []

  - id: zombie-code-audit
    idea: >-
      Static analysis + LLM analysis + human review on 119k codebase.
      Three-pass sweep — (1) tooling pass with knip/ts-prune for dead exports, unused deps, unreachable code,
      (2) LLM pass for semantic zombies (functions that exist but are superseded, tests that assert tautologies,
      over-abstracted patterns that could be flattened), (3) Captain review on results.
      Scope is thepit.cloud app code (app/, lib/, components/, db/) and pit* Go CLIs.
      Completed: PRs #381-384 (dead modules, test tautologies, security fixes, brand normalization).
      Cross-model review (4 independent reviewers) verified remaining findings; false positives caught
      (agent-links.ts, agent-lineage.ts alive not dead). Remaining items filed as separate hold entries.
    added: 2026-02-28
    status: done
    priority: high
    tags: [dark]

  - id: agent-prompts-refactor
    idea: >-
      lib/agent-prompts.ts is a thin pass-through wrapper to xml-prompt.ts with 3 consumers.
      Consider inlining or removing the indirection layer. Low priority refactor.
    added: 2026-02-28
    status: hold
    tags: []

  - id: bare-toHaveBeenCalled-assertions
    idea: >-
      ~10 test assertions use bare .toHaveBeenCalled() without verifying arguments.
      Files: actions.test.ts, actions-happy.test.ts, tier.test.ts, eas.test.ts.
      Strengthen to .toHaveBeenCalledWith() for more meaningful assertions.
    added: 2026-02-28
    status: hold
    tags: [dark]

  - id: skipped-integration-tests
    idea: >-
      21 integration tests are conditionally gated (require DB connection).
      They always skip in CI. Not a defect — by design — but inflates apparent test count.
      Consider documenting or separating test count reporting.
    added: 2026-02-28
    status: hold
    tags: [dark]

  - id: env-test-drift
    idea: >-
      tests/unit/env.test.ts tests a reconstructed schema rather than importing the real one.
      Risk: schema drifts from actual env.ts without test catching it.
      Consider importing real schema or adding a structural equality check.
    added: 2026-02-28
    status: hold
    tags: [dark]

  - id: unsafe-pattern-xss-gaps
    idea: >-
      lib/validation.ts UNSAFE_PATTERN regex does not cover vbscript:, data:application/xhtml+xml,
      or HTML entity encoded payloads. Low probability attack vector for this product but
      valid security hardening if revisiting validation layer.
    added: 2026-02-28
    status: hold
    tags: [dark]

  - id: anonymization-salt-hardening
    idea: >-
      lib/research-anonymize.ts line 18 has a fixed fallback salt ('thepit-research-default-salt')
      in non-production. Production correctly throws if env var is unset. Dev fallback is
      acceptable for local development but should be documented as intentional.
    added: 2026-02-28
    status: hold
    tags: [dark]

  - id: bout-engine-e2e-scenarios
    idea: >-
      Three Playwright E2E scenarios for bout-engine, parked from Architect spec convergence triage.
      (1) Unauthenticated anonymous bout — SSE opens, agents render, intro pool updates, replay UI appears.
      (2) Authenticated credit depletion — 1-credit user hits premium preset, 402 caught, "Top Up" modal shown.
      (3) BYOK passthrough — mock OpenRouter key, bout streams, internal credit balance unchanged.
      Reactivate when E2E testing is unpaused (currently paused during iteration phase per standing orders).
    added: 2026-02-28
    status: hold
    tags: [dark]
